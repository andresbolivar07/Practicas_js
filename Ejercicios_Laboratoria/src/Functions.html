<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercices Function</title>
</head>
<body>
    <h1>Functions</h1>
    <h2>Exercise 1</h2>
    <div id="exercise1"></div>
    <br/>
    <h2>Exercise 3</h2>
    <div id="exercise3"></div>
    <br/>
    <h2>Exercise 5</h2>
    <div id="exercise5"></div>
    <br/>
    <h2>Exercise 9</h2>
    <div id="exercise9"></div>
    <br/>
    <h2>Exercise 15</h2>
    <div id="exercise15"></div>
    <br/>
    <h2>Exercise 19</h2>
    <div id="exercise19"></div>
    <br/>
    <h2>Exercise 26</h2>
    <div id="exercise26"></div>
    <br/>
    <h2>Exercise 33</h2>
    <div id="exercise33"></div>
    <br/>
    <h2>Exercise 38</h2>
    <div id="exercise38"></div>
    <br/>
    <h2>Exercise 45</h2>
    <div id="exercise45"></div>
    <br/>  
    <div id="arr-exercise45"></div>
</body>
<script type="module">
    // Functions

    import { isPrime, lastDigit } from './functions.js';

    // Función para crear un número aleatório.

    const generateRandomNumber = () => Math.floor(Math.random() * 100);
        
    

    // Función para contar dígitos de un número.

    const numberCounter = (number) => {

        if ( number === 0) {
            return 1;
        }
        if (number < 0 ) {
            number = number * -1;
        }
        let numberDigits = 0;
        
        while (number >= 1) {
            number = parseInt(number/10);
            numberDigits++;
        }
        return numberDigits;
    }
    
    //Función para evaluar si un número es primo.
    import { isPrime } from './functions.js';

    //Función para calcular el factorial de un número.

    const numberFactorial = (number) => {
        if ( number === 0) {
            return 1;
        }
        if (number < 0 ) {
            number = number * -1;
        }
        
        let multiplication = 1;

        for(let i = 1; i <= number; i++) {
            multiplication = multiplication * i
        }
        return multiplication;
    }

    // Función para evaluar si un número es multiplo de otro

    const multipleNumbers = (number1, number2) => {

        if(number2 % number1 ===0) {
            return true;
        }
        return false;
    }

    //Función para generar un vector.

    const randomArrayGenerator = () => { 
    
        const randomNumbers = [];

        for (let i = 0; i < 10; i++) {
            randomNumbers.push(Math.floor(Math.random() * 100));
        }
        return randomNumbers;
    }
    
    // Función para determinar el número mayor y su posición en un arreglo

    const mayorNumberArray = (randomNumbers) => {
    
    
    let maximum = randomNumbers[0];
    let maximumPosition = 0;

    for (let i = 1; i < randomNumbers.length; i++) {
            
        if (randomNumbers[i] > maximum) {
        maximum = randomNumbers[i];
        maximumPosition = i;
        }
    }
    return maximum;
    }

    // Función para generar una matriz

    const generateRandomArrays = (rows, columns) => {

        let matriz = [];

        for (let i = 0; i < rows; i++) {
            matriz[i] = [];
            for (let j = 0; j < columns; j++) {
                matriz[i][j] = Math.floor(Math.random() * 100);
            }
        }
        return matriz;
    }
    
    const ArrayToString = (arr) => {
        let stringArray = '';
        for(i = 0; i < arr.length; i++){
            stringArray += (`[${arr[i]}] <br/>`);
        }
        return stringArray;
    }

    // 1. Construir una función que reciba como parámetro un entero y retorne su último dígito.

    const exercise1 = () => {

        let number = generateRandomNumber();

        const option1 = `El número generado es ${ number } y sú ultimo dígito es: ${ lastDigit(number) }`;
        const option2 = `El número tiene un sólo dígito y es: ${number}`;

        return number > 10 ? option1  : option2;
    }
    const result1 = document.getElementById("exercise1");
    result1.innerHTML = exercise1();

    // 3. Construir una función que reciba como parámetro un entero y retorne la cantidad de dígitos.

    const exercise3 = () => {

        let number = generateRandomNumber();

        return `El número generado es ${ number } y tiene ${ numberCounter(number) } de dígitos`;

    }
    const result3 = document.getElementById("exercise3");
    result3.innerHTML = exercise3();

    // 5. Construir una función que reciba como parámetro un entero y retorne la cantidad de dígitos primos.

    const exercise5 = () => {

        let number = generateRandomNumber();
        const originalNumber = number;
        let lastNumber = 0;
        let countPrimeNumbers = 0;
        let primeNumbers = [];

        while (number > 0) {
            lastNumber = lastDigit(number);
            if(isPrime(lastNumber)){
                countPrimeNumbers++;
                primeNumbers.push(lastNumber);
            }
            number = parseInt(number / 10);
        }

        return `El número generado es ${ originalNumber } y tiene ${ countPrimeNumbers } digitos primos:  ${ primeNumbers.join(', ') }`;
    }
    const result5 = document.getElementById("exercise5");
    result5.innerHTML = exercise5();

    // 9. Construir una función que reciba un entero y le calcule su factorial sabiendo que el factorial de un número es el resultado de multiplicar sucesivamente todos los enteros comprendidos entre 1 y el número dado. El factorial de 0 es 1. No están definidos los factoriales de números negativos.

    const exercise9 = () => {

        let number = generateRandomNumber();

        return `El número generado es ${ number } y su factorial es ${ numberFactorial(number) }`;

    }
    const result9 = document.getElementById("exercise9");
    result9.innerHTML = exercise9();

    // 15. Construir una función que reciba como parámetros dos números enteros y retorne 1 si el primer número es múltiplo del segundo y 0 si no.

    const exercise15 = () => {

        let number1 = generateRandomNumber();
        let number2 = generateRandomNumber() * 3;
        console.log(number1, number2)
        if(multipleNumbers(number1, number2)) {
            return 1;
        }
        return 0;

    }
    const result15 = document.getElementById("exercise15");
    result15.innerHTML = exercise15();

    // 19. Construir una función que reciba como parámetro un entero y retorne 1 si dicho valor es un número de mínimo 3 dígitos. Deberá retornar 0 si no es así.

    const exercise19 = () => {

        let number = generateRandomNumber();
        console.log(number)

        if(numberCounter(number) >= 3) {
            return 1;
        }
        return 0;

    }
    const result19 = document.getElementById("exercise19");
    result19.innerHTML = exercise19();

    // 26. Construir una función que reciba como parámetro un vector de 10 posiciones enteras y retorne el mayor de los datos del vector.

    const exercise26 = () => {

        let array = randomArrayGenerator();
        console.log(array);

        return `El vector generado es ${ array.join(', ') } y su número mayor es ${ mayorNumberArray(array) }`;

    }
    const result26 = document.getElementById("exercise26");
    result26.innerHTML = exercise26();

    // 33. Construir una función que reciba como parámetros un vector de 10 posiciones enteras y un valor entero y retorne 1 si dicho valor entero se encuentra en el vector. Deberá retornar 0 si no es así.

    const exercise33 = () => {

        let number = generateRandomNumber();
        let array = randomArrayGenerator();
        let counter = 0;

        for (let i = 0; i < array.length; i++) {
            if(number === array[i]) {
                counter++;
            }
        }
        let option1 = `${ array.join(', ') }, número: ${ number }. 1`;
        let option2 = `${ array.join(', ') }, número: ${ number }. 0`;

        return counter > 0 ? option1 : option2;
    }
    const result33 = document.getElementById("exercise33");
    result33.innerHTML = exercise33();

    //38. Construir una función que reciba como parámetro un vector de 10 posiciones enteras y retorne la cantidad de números terminados en 3 que contiene el vector.

    const exercise38 = () => {

        let array = randomArrayGenerator();
        let lastDigitNumber = 0;
        let numbers = [];
        let counterNumbers= 0;

        for (let i = 0; i < array.length; i++) {
            if(array[i] > 10 ) {
                lastDigitNumber = lastDigit(array[i]);
                if(lastDigitNumber === 3) {
                numbers.push(array[i]);
                counterNumbers++;
                }
            }
            if(array[i] < 10 && array[i] === 3){
                numbers.push(array[i]);
                counterNumbers++;
            }
        }
    let option1 = `En el array ${ array.join(', ') } hay ${ counterNumbers } terminados en 3 y son ${ numbers.join(', ') }`;
        
    let option2 = `En el array ${ array.join(', ') } no hay números terminados en 3`;
    
    return counterNumbers > 0 ? option1 : option2;
    }
    const result38 = document.getElementById("exercise38");
    result38.innerHTML = exercise38();

    // 45. Construir una función que reciba como parámetros una matriz 4x4 entera y un valor entero y retorne la cantidad de veces que se repite dicho valor en la matriz.

    const exercise45 = () => {

        let number = generateRandomNumber();
        let matriz = generateRandomArrays(4, 4);
        document.getElementById('arr-exercise45').innerHTML = ArrayToString(matriz);
        let repeatNumberCounter = 0;

        for (let i = 0; i < 4; i++) {
            for (let j = 0; j < 4; j++) {
                if (number === matriz[i][j]) {
                    repeatNumberCounter++;
                }
            }
        }

    let option1 = `El número entero generado es ${ number } y se repite en el array ${ repeatNumberCounter } veces.`;
        
    let option2 = `El número entero generado es ${ number } y no se repite en el array`;
    
    return repeatNumberCounter > 0 ? option1 : option2;
    
    }
    const result45 = document.getElementById("exercise45");
    result45.innerHTML = exercise45();

</script>
</html>